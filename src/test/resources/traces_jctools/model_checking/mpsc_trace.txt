| -------------------------------------- |
|       Thread 1        |    Thread 2    |
| -------------------------------------- |
| peek(): null          |                |
| poll(): null          |                |
| peek(): null          |                |
| peek(): null          |                |
| poll(): null          |                |
| -------------------------------------- |
| peek(): 4 [0,5]       | poll(): null   |
| offer(3): false [1,5] | offer(4): true |
| offer(2): false [2,5] | offer(5): true |
| peek(): 4 [3,5]       | offer(4): true |
| poll(): 4 [4,5]       | offer(5): true |
| -------------------------------------- |
| peek(): 5             |                |
| peek(): 5             |                |
| offer(4): true        |                |
| peek(): 5             |                |
| offer(2): false       |                |
| -------------------------------------- |






| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                      Thread 1                                                                      |                                                                     Thread 2                                                                      |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| peek(): null                                                                                                                                       |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): null at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                               |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 0 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvProducerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:297)                                                                           |                                                                                                                                                   |
|       producerIndex ➜ 0 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|   result: null                                                                                                                                     |                                                                                                                                                   |
| poll(): null                                                                                                                                       |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.poll(): null at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                               |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:244)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:246)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 0 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvProducerIndex(): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:252)                                                                           |                                                                                                                                                   |
|       producerIndex ➜ 0 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|   result: null                                                                                                                                     |                                                                                                                                                   |
| peek(): null                                                                                                                                       |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): null at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                               |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 0 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvProducerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:297)                                                                           |                                                                                                                                                   |
|       producerIndex ➜ 0 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|   result: null                                                                                                                                     |                                                                                                                                                   |
| peek(): null                                                                                                                                       |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): null at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                               |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 0 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvProducerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:297)                                                                           |                                                                                                                                                   |
|       producerIndex ➜ 0 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|   result: null                                                                                                                                     |                                                                                                                                                   |
| poll(): null                                                                                                                                       |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.poll(): null at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                               |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:244)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:246)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 0 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvProducerIndex(): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:252)                                                                           |                                                                                                                                                   |
|       producerIndex ➜ 0 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|   result: null                                                                                                                                     |                                                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                                                                                                    | poll(): null                                                                                                                                      |
|                                                                                                                                                    |   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                                   |
|                                                                                                                                                    |   MpmcArrayQueue#1.poll(): null at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                              |
|                                                                                                                                                    |     lvConsumerIndex(): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:244)                                                                          |
|                                                                                                                                                    |       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                              |
|                                                                                                                                                    |     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:246)                                       |
|                                                                                                                                                    |       LongArray#1[0].getLongVolatile(): 0 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                   |
|                                                                                                                                                    |     lvProducerIndex(): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:252)                                                                          |
|                                                                                                                                                    |       producerIndex ➜ 0 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                               |
|                                                                                                                                                    |   result: null                                                                                                                                    |
|                                                                                                                                                    | offer(4): true                                                                                                                                    |
|                                                                                                                                                    |   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                  |
|                                                                                                                                                    |   MpmcArrayQueue#1.offer(4): true at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                           |
|                                                                                                                                                    |     lvProducerIndex(): 0 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                         |
|                                                                                                                                                    |       producerIndex ➜ 0 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                               |
|                                                                                                                                                    |     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 0 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                      |
|                                                                                                                                                    |       LongArray#1[0].getLongVolatile(): 0 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                   |
|                                                                                                                                                    |     casProducerIndex(0, 1): true at MpmcArrayQueue.offer(MpmcArrayQueue.java:215)                                                                 |
|                                                                                                                                                    |       Unsafe#1.compareAndSwapLong(MpmcArrayQueue#1, 280, 0, 1): true at MpmcArrayQueueProducerIndexField.casProducerIndex(MpmcArrayQueue.java:68) |
|                                                                                                                                                    |     UnsafeRefArrayAccess.spRefElement(Array<Object>#1, 16, 4) at MpmcArrayQueue.offer(MpmcArrayQueue.java:218)                                    |
|                                                                                                                                                    |       Array<Object>#1[0].putObject(4) at UnsafeRefArrayAccess.spRefElement(UnsafeRefArrayAccess.java:51)                                          |
|                                                                                                                                                    |   result: true                                                                                                                                    |
|                                                                                                                                                    | offer(5): true                                                                                                                                    |
|                                                                                                                                                    |   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                  |
|                                                                                                                                                    |   MpmcArrayQueue#1.offer(5): true at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                           |
|                                                                                                                                                    |     lvProducerIndex(): 1 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                         |
|                                                                                                                                                    |       producerIndex ➜ 1 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                               |
|                                                                                                                                                    |     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 24): 1 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                      |
|                                                                                                                                                    |       LongArray#1[1].getLongVolatile(): 1 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                   |
|                                                                                                                                                    |     casProducerIndex(1, 2): true at MpmcArrayQueue.offer(MpmcArrayQueue.java:215)                                                                 |
|                                                                                                                                                    |       Unsafe#1.compareAndSwapLong(MpmcArrayQueue#1, 280, 1, 2): true at MpmcArrayQueueProducerIndexField.casProducerIndex(MpmcArrayQueue.java:68) |
|                                                                                                                                                    |     UnsafeRefArrayAccess.spRefElement(Array<Object>#1, 20, 5) at MpmcArrayQueue.offer(MpmcArrayQueue.java:218)                                    |
|                                                                                                                                                    |       Array<Object>#1[1].putObject(5) at UnsafeRefArrayAccess.spRefElement(UnsafeRefArrayAccess.java:51)                                          |
|                                                                                                                                                    |   result: true                                                                                                                                    |
|                                                                                                                                                    | offer(4): true                                                                                                                                    |
|                                                                                                                                                    |   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                  |
|                                                                                                                                                    |   MpmcArrayQueue#1.offer(4): true at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                           |
|                                                                                                                                                    |     lvProducerIndex(): 2 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                         |
|                                                                                                                                                    |       producerIndex ➜ 2 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                               |
|                                                                                                                                                    |     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 32): 2 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                      |
|                                                                                                                                                    |       LongArray#1[2].getLongVolatile(): 2 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                   |
|                                                                                                                                                    |     casProducerIndex(2, 3): true at MpmcArrayQueue.offer(MpmcArrayQueue.java:215)                                                                 |
|                                                                                                                                                    |       Unsafe#1.compareAndSwapLong(MpmcArrayQueue#1, 280, 2, 3): true at MpmcArrayQueueProducerIndexField.casProducerIndex(MpmcArrayQueue.java:68) |
|                                                                                                                                                    |     UnsafeRefArrayAccess.spRefElement(Array<Object>#1, 24, 4) at MpmcArrayQueue.offer(MpmcArrayQueue.java:218)                                    |
|                                                                                                                                                    |       Array<Object>#1[2].putObject(4) at UnsafeRefArrayAccess.spRefElement(UnsafeRefArrayAccess.java:51)                                          |
|                                                                                                                                                    |   result: true                                                                                                                                    |
|                                                                                                                                                    | offer(5): true                                                                                                                                    |
|                                                                                                                                                    |   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                  |
|                                                                                                                                                    |   MpmcArrayQueue#1.offer(5): true at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                           |
|                                                                                                                                                    |     lvProducerIndex(): 3 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                         |
|                                                                                                                                                    |       producerIndex ➜ 3 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                               |
|                                                                                                                                                    |     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 40): 3 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                      |
|                                                                                                                                                    |       LongArray#1[3].getLongVolatile(): 3 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                   |
|                                                                                                                                                    |     casProducerIndex(3, 4): true at MpmcArrayQueue.offer(MpmcArrayQueue.java:215)                                                                 |
|                                                                                                                                                    |       Unsafe#1.compareAndSwapLong(MpmcArrayQueue#1, 280, 3, 4): true at MpmcArrayQueueProducerIndexField.casProducerIndex(MpmcArrayQueue.java:68) |
|                                                                                                                                                    |     UnsafeRefArrayAccess.spRefElement(Array<Object>#1, 28, 5) at MpmcArrayQueue.offer(MpmcArrayQueue.java:218)                                    |
|                                                                                                                                                    |       Array<Object>#1[3].putObject(5) at UnsafeRefArrayAccess.spRefElement(UnsafeRefArrayAccess.java:51)                                          |
|                                                                                                                                                    |   result: true                                                                                                                                    |
| peek(): 4                                                                                                                                          |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): 4 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                  |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 1 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     UnsafeRefArrayAccess.lvRefElement(Array<Object>#1, 16): 4 at MpmcArrayQueue.peek(MpmcArrayQueue.java:306)                                      |                                                                                                                                                   |
|       Array<Object>#1[0].getObjectVolatile(): 4 at UnsafeRefArrayAccess.lvRefElement(UnsafeRefArrayAccess.java:89)                                 |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:307)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: 4                                                                                                                                        |                                                                                                                                                   |
| offer(3): false                                                                                                                                    |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                   |                                                                                                                                                   |
|   MpmcArrayQueue#1.offer(3): false at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                           |                                                                                                                                                   |
|     lvProducerIndex(): 4 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                          |                                                                                                                                                   |
|       producerIndex ➜ 4 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 1 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                       |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 1 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.offer(MpmcArrayQueue.java:204)                                                                          |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: false                                                                                                                                    |                                                                                                                                                   |
| offer(2): false                                                                                                                                    |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                   |                                                                                                                                                   |
|   MpmcArrayQueue#1.offer(2): false at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                           |                                                                                                                                                   |
|     lvProducerIndex(): 4 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                          |                                                                                                                                                   |
|       producerIndex ➜ 4 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 1 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                       |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 1 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.offer(MpmcArrayQueue.java:204)                                                                          |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: false                                                                                                                                    |                                                                                                                                                   |
| peek(): 4                                                                                                                                          |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): 4 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                  |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 1 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     UnsafeRefArrayAccess.lvRefElement(Array<Object>#1, 16): 4 at MpmcArrayQueue.peek(MpmcArrayQueue.java:306)                                      |                                                                                                                                                   |
|       Array<Object>#1[0].getObjectVolatile(): 4 at UnsafeRefArrayAccess.lvRefElement(UnsafeRefArrayAccess.java:89)                                 |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.peek(MpmcArrayQueue.java:307)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: 4                                                                                                                                        |                                                                                                                                                   |
| poll(): 4                                                                                                                                          |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.poll(): 4 at MpmcArrayQueueTest.poll(MpmcArrayQueueTest.kt:19)                                                                  |                                                                                                                                                   |
|     lvConsumerIndex(): 0 at MpmcArrayQueue.poll(MpmcArrayQueue.java:244)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 0 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 1 at MpmcArrayQueue.poll(MpmcArrayQueue.java:246)                                        |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 1 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     casConsumerIndex(0, 1): true at MpmcArrayQueue.poll(MpmcArrayQueue.java:264)                                                                   |                                                                                                                                                   |
|       Unsafe#1.compareAndSwapLong(MpmcArrayQueue#1, 416, 0, 1): true at MpmcArrayQueueConsumerIndexField.casConsumerIndex(MpmcArrayQueue.java:117) |                                                                                                                                                   |
|     UnsafeRefArrayAccess.lpRefElement(Array<Object>#1, 16): 4 at MpmcArrayQueue.poll(MpmcArrayQueue.java:267)                                      |                                                                                                                                                   |
|       Array<Object>#1[0].getObject(): 4 at UnsafeRefArrayAccess.lpRefElement(UnsafeRefArrayAccess.java:76)                                         |                                                                                                                                                   |
|     UnsafeRefArrayAccess.spRefElement(Array<Object>#1, 16, null) at MpmcArrayQueue.poll(MpmcArrayQueue.java:268)                                   |                                                                                                                                                   |
|       Array<Object>#1[0].putObject(null) at UnsafeRefArrayAccess.spRefElement(UnsafeRefArrayAccess.java:51)                                        |                                                                                                                                                   |
|   result: 4                                                                                                                                        |                                                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| peek(): 5                                                                                                                                          |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): 5 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                  |                                                                                                                                                   |
|     lvConsumerIndex(): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 1 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 24): 2 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[1].getLongVolatile(): 2 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     UnsafeRefArrayAccess.lvRefElement(Array<Object>#1, 20): 5 at MpmcArrayQueue.peek(MpmcArrayQueue.java:306)                                      |                                                                                                                                                   |
|       Array<Object>#1[1].getObjectVolatile(): 5 at UnsafeRefArrayAccess.lvRefElement(UnsafeRefArrayAccess.java:89)                                 |                                                                                                                                                   |
|     lvConsumerIndex(): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:307)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 1 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: 5                                                                                                                                        |                                                                                                                                                   |
| peek(): 5                                                                                                                                          |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): 5 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                  |                                                                                                                                                   |
|     lvConsumerIndex(): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 1 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 24): 2 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[1].getLongVolatile(): 2 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     UnsafeRefArrayAccess.lvRefElement(Array<Object>#1, 20): 5 at MpmcArrayQueue.peek(MpmcArrayQueue.java:306)                                      |                                                                                                                                                   |
|       Array<Object>#1[1].getObjectVolatile(): 5 at UnsafeRefArrayAccess.lvRefElement(UnsafeRefArrayAccess.java:89)                                 |                                                                                                                                                   |
|     lvConsumerIndex(): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:307)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 1 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: 5                                                                                                                                        |                                                                                                                                                   |
| offer(4): true                                                                                                                                     |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                   |                                                                                                                                                   |
|   MpmcArrayQueue#1.offer(4): true at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                            |                                                                                                                                                   |
|     lvProducerIndex(): 4 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                          |                                                                                                                                                   |
|       producerIndex ➜ 4 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 16): 4 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                       |                                                                                                                                                   |
|       LongArray#1[0].getLongVolatile(): 4 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     casProducerIndex(4, 5): true at MpmcArrayQueue.offer(MpmcArrayQueue.java:215)                                                                  |                                                                                                                                                   |
|       Unsafe#1.compareAndSwapLong(MpmcArrayQueue#1, 280, 4, 5): true at MpmcArrayQueueProducerIndexField.casProducerIndex(MpmcArrayQueue.java:68)  |                                                                                                                                                   |
|     UnsafeRefArrayAccess.spRefElement(Array<Object>#1, 16, 4) at MpmcArrayQueue.offer(MpmcArrayQueue.java:218)                                     |                                                                                                                                                   |
|       Array<Object>#1[0].putObject(4) at UnsafeRefArrayAccess.spRefElement(UnsafeRefArrayAccess.java:51)                                           |                                                                                                                                                   |
|   result: true                                                                                                                                     |                                                                                                                                                   |
| peek(): 5                                                                                                                                          |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                    |                                                                                                                                                   |
|   MpmcArrayQueue#1.peek(): 5 at MpmcArrayQueueTest.peek(MpmcArrayQueueTest.kt:16)                                                                  |                                                                                                                                                   |
|     lvConsumerIndex(): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:289)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 1 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 24): 2 at MpmcArrayQueue.peek(MpmcArrayQueue.java:291)                                        |                                                                                                                                                   |
|       LongArray#1[1].getLongVolatile(): 2 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     UnsafeRefArrayAccess.lvRefElement(Array<Object>#1, 20): 5 at MpmcArrayQueue.peek(MpmcArrayQueue.java:306)                                      |                                                                                                                                                   |
|       Array<Object>#1[1].getObjectVolatile(): 5 at UnsafeRefArrayAccess.lvRefElement(UnsafeRefArrayAccess.java:89)                                 |                                                                                                                                                   |
|     lvConsumerIndex(): 1 at MpmcArrayQueue.peek(MpmcArrayQueue.java:307)                                                                           |                                                                                                                                                   |
|       consumerIndex ➜ 1 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: 5                                                                                                                                        |                                                                                                                                                   |
| offer(2): false                                                                                                                                    |                                                                                                                                                   |
|   queue ➜ MpmcArrayQueue#1 at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                                   |                                                                                                                                                   |
|   MpmcArrayQueue#1.offer(2): false at MpmcArrayQueueTest.offer(MpmcArrayQueueTest.kt:13)                                                           |                                                                                                                                                   |
|     lvProducerIndex(): 5 at MpmcArrayQueue.offer(MpmcArrayQueue.java:196)                                                                          |                                                                                                                                                   |
|       producerIndex ➜ 5 at MpmcArrayQueueProducerIndexField.lvProducerIndex(MpmcArrayQueue.java:63)                                                |                                                                                                                                                   |
|     UnsafeLongArrayAccess.lvLongElement(LongArray#1, 24): 2 at MpmcArrayQueue.offer(MpmcArrayQueue.java:198)                                       |                                                                                                                                                   |
|       LongArray#1[1].getLongVolatile(): 2 at UnsafeLongArrayAccess.lvLongElement(UnsafeLongArrayAccess.java:83)                                    |                                                                                                                                                   |
|     lvConsumerIndex(): 1 at MpmcArrayQueue.offer(MpmcArrayQueue.java:204)                                                                          |                                                                                                                                                   |
|       consumerIndex ➜ 1 at MpmcArrayQueueConsumerIndexField.lvConsumerIndex(MpmcArrayQueue.java:112)                                               |                                                                                                                                                   |
|   result: false                                                                                                                                    |                                                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
